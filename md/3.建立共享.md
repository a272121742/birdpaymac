Mac/Windows建立共享
===================

[上一节](./2.VMWare10安装黑苹果过程.md) &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
[个人主页](http://a272121742.github.io) &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
[首页](../index.md) &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
[下一节](./4.安装MongoDB.md) &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

# Windows开启共享

##  确认共享服务已经开启

首先我们需要确认共享服务已经开启，否则Windows系统是无法在文件夹属性中找到共享选项卡的。这两项服务分别是：

0.  Server
0.  Workstation

对于安装完整版系统或者为精简优化的系统，这两个服务都是开启的。对于深度优化过电脑的朋友，如果发现无法共享，就要找一找是不是这两个服务没有开启。

##  共享设置

接着，我们打开“控制面板”，查看方式为“类别”，在“网络和Internet”下找到“查看网络状态和任务”的连接，点击进入：

![查看共享](../img/3/001.png)

然后再左边菜单中选择“更改高级共享设置”：

![更改高级共享设置](../img/3/002.png)

在高级共享设置里，其他的都不用管，我们直接找到“所有网络”的选项，将下面“密码保护的共享”给关闭掉。这种模式下，Mac访问Windows就不需要密码了：

![关闭密码保护共享](../img/3/003.png)

##  新增共享目录

现在，你只需要新增一个文件夹用于共享即可。例如我新建了一个“MacOS”文件夹，右键文件夹属性，然后点击共享选项卡，再点击共享按钮：

![共享文件夹](../img/3/004.png)

在弹出的窗口中，点击那个下拉选框，选中“Everyone”，然后点击右边按钮“添加”：

![新增用户](../img/3/005.png)

将“Everyone”下的权限修改为“读取/写入”，当然根据自己的情况，因为是自己做开发，所以自己读写自己的没什么问题：

![修改读写模式](../img/3/006.png)

配置完后点击“共享”，在弹出的“是否启用发现网络”随便点即可。启用发现就是让其他主机能看到你所共享的，不启用则是让连接进来的主机才能看到共享。

##  增加快捷方式

Mac下增加快捷方式比较复杂。首先我们需要在Finder中点击“前往”，选择“前往文件夹”：

![前往文件夹](../img/3/007.png)

输入“/Volumes”，点击前往：

![输入文件夹](../img/3/008.png)

此时，那个可以展开的“MacOS”就是你在Windows下生成的共享文件夹，另一个是你当前系统文件夹（还记得我们之前命名的MacOSX这名字吗？）：

![选择共享文件](../img/3/009.png)

注意了，按住苹果的“Command键”加上“Option键”，拖拽文件叫到另一个地方，就能生成一个快捷方式，苹果叫它“替身”：

![生成替身](../img/3/010.png)

需要注意，“Command键”就是“苹果键”，对应你Windows键盘的“窗口键”，也叫“Win键”；“Option键”就是你电脑上的“Alt键”。苹果的键盘跟其他键盘有一些区别，详情百度。

# Mac连接Windows共享

## 确认主机IP

在主机上使用命令行输入命令“ipconfig”，查看VM为你主机生成的虚拟IP：

![查看本机虚拟IP](../img/3/011.png)

当然，这个IP有很多，是因为给不同虚拟机都要单独分配一个。我电脑上有好几个虚拟机，而且都是采用NAT连接，所以有很多。至于是哪一个，在Mac系统中试一试就知道了。

## 连接Windows共享

接着，我们在Mac系统中顶部的菜单栏点击“前往”下面的“连接服务器”，快捷键是“窗口键 + K”：

![连接服务器](../img/3/012.png)

在弹出的窗口中输入“smb://”加上你的主机虚拟IP：

![输入虚拟IP](../img/3/013.png)

点击连接后，系统开始连接你的Windows电脑：

![连接共享中](../img/3/014.png)

如果连接不成功则会弹出相关信息，反之，则弹出窗口选择登录方式，这里我选择客人登录，因为我们之前已经设置为Everyone无密码登录的：

![客人登录](../img/3/015.png)

连接后会显示Windows上已经共享的文件夹，然后选择一个访问：

![选择查看文件夹](../img/3/016.png)

连接成功后，就能访问共享的文件了，里面的文件都是我们今后需要的一些文件：

![连接成功](../img/3/017.png)

## 关闭重连

如果关闭了这个窗口，是否意味着今后还要重新按照这个步骤重新连接呢？不是的，只要你打开Finder文件夹，左边的菜单中就有一个已经连结果的共享，只要点击，系统就会帮你重复之前的连接操作：

![Finder连接共享](../img/3/018.png)

连接成功后，就能看到相关信息：

![Finder连接成功](../img/3/019.png)

# Mac开启共享

##  共享设置

在屏幕最下面的Dock上的“设置”图标，弹出系统设置，然后点击“共享”：

![打开共享设置](../img/3/020.png)

在弹出的窗口中，点击左侧复选框的“文件夹共享”：

![开启文件共享](../img/3/021.png)

右侧页面中点击选项，弹出的窗口中选中当前账户：

![激活当前用户](../img/3/022.png)

输入当前账户的密码即可（之间初始化系统时创建的账户密码）：

![输入用户密码](../img/3/023.png)

到这里，Windows就可以使用苹果系统的账号密码连接进来了。注意，这里之所以使用Mac系统的账户是有原因的。Mac系统基于Linux系统架构，如果你使用别的账户登录进来，对于某些文件是没有读写权限。即便有读写权限，修改的某些文件也可能会导致Mac用户无法使用，因为权限问题。所以为了避免这个问题，我采用“Windows使用Mac账户登录共享”这种丑办法来解决。

##  新增共享目录

还是刚才的步骤，打开到共享窗口，在共享文件夹列表下点击“加号”新增你的Mac共享目录：

![新增共享文件夹](../img/3/024.png)

选择你要共享的目录即可：

![选择目录](../img/3/025.png)

以此类推，还可以为共享目录修改用户权限等。

# Windows连接Mac共享

##  确认虚拟机IP

在Mac设置中选择“网络”，查看当前虚拟机所分配到的IP：

![查看网络](../img/3/026.png)

##  连接Mac共享

Windows系统下，打开运行窗口，输入“\\”加上Mac的IP地址，在弹出的界面中填写Mac的用户名和密码即可：

![连接Mac共享](../img/3/027.png)

如果需要填写用户名密码，就填写Mac所创建的用户名和密码即可。

##  增加快捷方式

在你需要建立快捷方式的地方右键，然后选择“新建”，选择“快捷方式”，然后输入Mac的共享IP地址即可。此时情确保虚拟机是开着的，否则建立失败：

![快捷方式](../img/3/028.png)

[上一节](./2.VMWare10安装黑苹果过程.md) &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
[个人主页](http://a272121742.github.io) &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
[首页](../index.md) &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
[下一节](./4.安装MongoDB.md) &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
